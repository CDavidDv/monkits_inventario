import{m as Q,r as k,l as h,c as I,w as i,o as u,a as e,b as n,f as v,u as m,i as b,t as r,j as A,k as R,v as X,d as x,e as F,g as L,F as N,n as w}from"./app-Bbm6nPfF.js";import{c as Y,_ as Z,E as ee}from"./AppLayout-BVLftzrV.js";import{_ as te}from"./ConfirmationModal-D_IAYCXc.js";import{_ as se}from"./SecondaryButton-lqUrONvz.js";import{_ as oe}from"./DangerButton-CjfkhQTj.js";import{l as re}from"./lodash-BPZAoVvF.js";import{C as le}from"./Container-s7YzfQE3.js";import{T as ie}from"./trash-2-D2yJd7f-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-BHoNVWH2.js";/**
 * @license lucide-vue-next v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=Y("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),de={class:"flex justify-between items-center"},ne={class:"flex space-x-2"},ce={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},ue={class:"bg-white border-l-4 border-l-blue-500 overflow-hidden shadow-xl sm:rounded-lg p-6"},me={class:"flex items-center"},xe={class:"ml-4"},ve={class:"text-2xl font-bold text-gray-900"},fe={class:"border-l-4 border-green-500 bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},pe={class:"flex items-center"},ge={class:"ml-4"},he={class:"text-2xl font-bold text-green-600"},be={class:"bg-white border-l-4 border-red-500 overflow -hidden shadow-xl sm:rounded-lg p-6"},we={class:"flex items-center"},ye={class:"ml-4"},_e={class:"text-2xl font-bold text-red-600"},ke={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mb-6"},Ce={class:"p-6"},Me={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Se={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},je={class:"p-6"},ze={class:"overflow-x-auto"},Ee={class:"min-w-full divide-y divide-gray-200"},Pe={class:"bg-gray-50"},Be={key:0,class:"ml-1"},Te={class:"bg-white divide-y divide-gray-200"},$e={class:"px-6 py-4 whitespace-nowrap"},Ie={class:"flex items-center"},Ae={class:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg"},Fe={class:"ml-4"},Le={class:"text-sm font-medium text-gray-900"},Ne={class:"text-sm text-gray-500"},Ve={class:"px-6 py-4 whitespace-nowrap"},De={class:"text-sm text-gray-900"},He={class:"text-sm text-gray-500"},Ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},qe=["href"],Ge={key:1,class:"text-gray-400"},Oe={class:"px-6 py-4 whitespace-nowrap"},We={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Je={class:"flex space-x-2"},Ke=["onClick"],Qe=["onClick"],Re={key:0,class:"mt-6"},Xe={class:"flex justify-between items-center"},Ye={class:"text-sm text-gray-700"},Ze={class:"flex space-x-1"},ct={__name:"Index",props:{suppliers:Object,filters:Object},setup(l){var M,S;const a=l,c=Q({search:((M=a.filters)==null?void 0:M.search)||"",status:((S=a.filters)==null?void 0:S.status)||""}),f=k(!1),p=k(null),y=k(!1),C=re.debounce(()=>{_()},500),_=()=>{var o,t;h.get(route("suppliers.index"),{search:c.search,status:c.status,sort:(o=a.filters)==null?void 0:o.sort,direction:(t=a.filters)==null?void 0:t.direction},{preserveState:!0,replace:!0})},V=o=>{var d,g;const t=((d=a.filters)==null?void 0:d.sort)===o&&((g=a.filters)==null?void 0:g.direction)==="asc"?"desc":"asc";h.get(route("suppliers.index"),{...c,sort:o,direction:t},{preserveState:!0,replace:!0})},D=()=>{c.search="",c.status="",_()},H=()=>{var o;return(o=a.suppliers)!=null&&o.data?a.suppliers.data.filter(t=>t.status==="active").length:0},U=()=>{var o;return(o=a.suppliers)!=null&&o.data?a.suppliers.data.filter(t=>t.status==="inactive").length:0},q=o=>o.status==="active"?"Activo":"Inactivo",G=o=>o.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",O=o=>{h.post(route("suppliers.toggle-status",o.id),{},{preserveScroll:!0})},W=o=>{p.value=o,f.value=!0},J=()=>{p.value&&(y.value=!0,h.delete(route("suppliers.destroy",p.value.id),{onSuccess:()=>{f.value=!1,p.value=null},onFinish:()=>{y.value=!1}}))};return(o,t)=>(u(),I(Z,{title:"Gestión de Proveedores"},{header:i(()=>[e("div",de,[t[7]||(t[7]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Gestión de Proveedores ",-1)),e("div",ne,[n(m(b),{href:o.route("suppliers.create"),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center"},{default:i(()=>t[6]||(t[6]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),v(" Nuevo Proveedor ")])),_:1},8,["href"])])])]),default:i(()=>[n(le,{class:""},{default:i(()=>{var d,g,j,z,E,P,B,T,$;return[e("div",ce,[e("div",ue,[e("div",me,[t[9]||(t[9]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),e("div",xe,[t[8]||(t[8]=e("div",{class:"text-sm font-medium text-gray-500"},"Total Proveedores",-1)),e("div",ve,r(((d=l.suppliers)==null?void 0:d.total)||((j=(g=l.suppliers)==null?void 0:g.data)==null?void 0:j.length)||0),1)])])]),e("div",fe,[e("div",pe,[t[11]||(t[11]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",ge,[t[10]||(t[10]=e("div",{class:"text-sm font-medium text-gray-500"},"Proveedores Activos",-1)),e("div",he,r(H()),1)])])]),e("div",be,[e("div",we,[t[13]||(t[13]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",ye,[t[12]||(t[12]=e("div",{class:"text-sm font-medium text-gray-500"},"Proveedores Inactivos",-1)),e("div",_e,r(U()),1)])])])]),e("div",ke,[e("div",Ce,[e("div",Me,[e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Buscar",-1)),A(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>c.search=s),type:"text",placeholder:"Nombre, email o teléfono...",class:"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",onInput:t[1]||(t[1]=(...s)=>m(C)&&m(C)(...s))},null,544),[[R,c.search]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Estado",-1)),A(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>c.status=s),class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:_},t[15]||(t[15]=[e("option",{value:""},"Todos los estados",-1),e("option",{value:"active"},"Activos",-1),e("option",{value:"inactive"},"Inactivos",-1)]),544),[[X,c.status]])]),e("div",{class:"flex items-end"},[e("button",{onClick:D,class:"w-full bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"}," Limpiar Filtros ")])])])]),e("div",Se,[e("div",je,[e("div",ze,[e("table",Ee,[e("thead",Pe,[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:t[3]||(t[3]=s=>V("name"))},[t[17]||(t[17]=v(" Proveedor ")),l.filters.sort==="name"?(u(),x("span",Be,r(l.filters.direction==="asc"?"↑":"↓"),1)):F("",!0)]),t[18]||(t[18]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Contacto ",-1)),t[19]||(t[19]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Website ",-1)),t[20]||(t[20]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Estado ",-1)),t[21]||(t[21]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Acciones ",-1))])]),e("tbody",Te,[(u(!0),x(N,null,L((z=l.suppliers)==null?void 0:z.data,s=>(u(),x("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",$e,[e("div",Ie,[e("div",Ae,r(s.name.charAt(0).toUpperCase()),1),e("div",Fe,[e("div",Le,r(s.name),1),e("div",Ne,r(s.email||"Sin email"),1)])])]),e("td",Ve,[e("div",De,r(s.phone||"-"),1),e("div",He,r(s.address||"-"),1)]),e("td",Ue,[s.website?(u(),x("a",{key:0,href:s.website,target:"_blank",class:"text-blue-600 hover:text-blue-900"},r(s.website),9,qe)):(u(),x("span",Ge,"-"))]),e("td",Oe,[e("span",{class:w([G(s),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},r(q(s)),3)]),e("td",We,[e("div",Je,[e("button",{onClick:K=>O(s),class:w(s.status==="active"?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900")},[e("div",{class:w([s.status==="active"?"bg-green-500":"bg-red-500","size-5 rounded-full"])},null,2)],10,Ke),n(m(b),{href:o.route("suppliers.show",s.id),class:"text-blue-600 hover:text-blue-900"},{default:i(()=>[n(m(ee),{class:"size-5"})]),_:2},1032,["href"]),n(m(b),{href:o.route("suppliers.edit",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:i(()=>[n(m(ae),{class:"size-5"})]),_:2},1032,["href"]),e("button",{onClick:K=>W(s),class:"text-red-600 hover:text-red-900"},[n(m(ie),{class:"size-5"})],8,Qe)])])]))),128))])])]),(E=l.suppliers)!=null&&E.links?(u(),x("div",Re,[e("div",Xe,[e("div",Ye," Mostrando "+r((P=l.suppliers)==null?void 0:P.from)+" a "+r((B=l.suppliers)==null?void 0:B.to)+" de "+r((T=l.suppliers)==null?void 0:T.total)+" resultados ",1),e("div",Ze,[(u(!0),x(N,null,L(($=l.suppliers)==null?void 0:$.links,s=>(u(),I(m(b),{key:s==null?void 0:s.label,href:s==null?void 0:s.url,class:w(["px-3 py-2 text-sm rounded-md",s.active?"bg-blue-500 text-white":s.url?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])):F("",!0)])])]}),_:1}),n(te,{show:f.value,onClose:t[5]||(t[5]=d=>f.value=!1)},{title:i(()=>t[22]||(t[22]=[v(" Eliminar Proveedor ")])),content:i(()=>{var d;return[v(' ¿Estás seguro de que quieres eliminar el proveedor "'+r((d=p.value)==null?void 0:d.name)+'"? Esta acción no se puede deshacer. ',1)]}),footer:i(()=>[n(se,{onClick:t[4]||(t[4]=d=>f.value=!1)},{default:i(()=>t[23]||(t[23]=[v(" Cancelar ")])),_:1}),n(oe,{class:"ml-3",onClick:J,disabled:y.value},{default:i(()=>t[24]||(t[24]=[v(" Eliminar ")])),_:1},8,["disabled"])]),_:1},8,["show"])]),_:1}))}};export{ct as default};
