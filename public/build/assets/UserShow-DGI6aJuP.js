import{o as a,d as n,a as t,r as I,c,w as m,b as l,u,i as x,f as o,t as r,F as y,g as v,e as g,n as S}from"./app-BvBaJJHQ.js";import{_ as D}from"./AppLayout-DkYb2Hbh.js";import{C}from"./Container-CXfuoOaH.js";import{_}from"./StatCard-BXYkc-vr.js";import{_ as h}from"./Badge-DDpWxAQD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function E(s,b){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}const N={class:"min-h-screen bg-gray-50"},V={class:"mb-8"},z={class:"flex items-center justify-between"},B={class:"flex items-center space-x-4"},T={class:"text-3xl font-bold text-gray-900"},F={class:"mt-2 text-gray-600"},O={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},P={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},$={class:"lg:col-span-1"},q={class:"bg-white overflow-hidden shadow-md border border-gray-200 sm:rounded-lg"},G={class:"p-6"},R={class:"space-y-4"},U={class:"text-sm text-gray-900 text-gray-900"},H={class:"text-sm text-gray-900 text-gray-900"},J={class:"text-sm text-gray-900 text-gray-900"},K={class:"text-sm"},Q={class:"text-sm"},W={class:"text-sm text-gray-900 text-gray-900"},X={class:"text-sm text-gray-900 text-gray-900"},Y={class:"lg:col-span-1"},Z={class:"bg-white overflow-hidden shadow-md border border-gray-200 sm:rounded-lg"},tt={class:"p-6"},et={key:0,class:"space-y-2"},st={key:1,class:"text-sm text-gray-500"},it={class:"lg:col-span-1"},at={class:"bg-white overflow-hidden shadow-md border border-gray-200 sm:rounded-lg"},rt={class:"p-6"},nt={key:0,class:"space-y-3"},ot={class:"text-sm font-medium text-gray-900 text-gray-900"},dt={class:"text-xs text-gray-500"},lt={class:"text-sm font-semibold text-blue-600 text-blue-600"},mt={key:1,class:"text-sm text-gray-500"},ct={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},ut={class:"bg-white overflow-hidden shadow-md border border-gray-200 sm:rounded-lg"},gt={class:"p-6"},xt={key:0,class:"space-y-3"},yt={class:"text-sm font-medium text-gray-900 text-gray-900 capitalize"},vt={class:"text-sm font-semibold text-blue-600 text-blue-600"},ft={key:1,class:"text-sm text-gray-500"},ht={class:"bg-white overflow-hidden shadow-md border border-gray-200 sm:rounded-lg"},bt={class:"p-6"},pt={key:0,class:"space-y-3"},wt={class:"text-sm font-medium text-gray-900 text-gray-900 capitalize"},_t={class:"text-sm font-semibold text-green-600 text-green-600"},kt={key:1,class:"text-sm text-gray-500"},Mt={class:"bg-white overflow-hidden shadow-md border border-gray-200 sm:rounded-lg"},St={class:"border-b border-gray-200 border-gray-200"},Lt={class:"-mb-px flex space-x-8 px-6","aria-label":"Tabs"},At=["onClick"],jt={class:"p-6"},It={key:0},Dt={key:0},Ct={class:"overflow-x-auto"},Et={class:"min-w-full divide-y divide-gray-200 divide-gray-200"},Nt={class:"bg-white divide-y divide-gray-200 divide-gray-200"},Vt={class:"px-6 py-4 whitespace-nowrap"},zt={class:"text-sm font-medium text-gray-900 text-gray-900"},Bt={class:"text-sm text-gray-500"},Tt={class:"px-6 py-4 whitespace-nowrap"},Ft={class:"px-6 py-4 text-sm text-gray-900 text-gray-900 max-w-xs truncate"},Ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Pt={class:"mt-6 flex items-center justify-between"},$t={class:"flex-1 flex justify-between sm:hidden"},qt={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Gt={class:"text-sm text-gray-700 dark:text-gray-300"},Rt={class:"font-medium"},Ut={class:"font-medium"},Ht={class:"font-medium"},Jt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Kt={key:1,class:"text-center py-8"},Qt={key:1},Wt={key:0},Xt={class:"overflow-x-auto"},Yt={class:"min-w-full divide-y divide-gray-200 divide-gray-200"},Zt={class:"bg-white divide-y divide-gray-200 divide-gray-200"},te={class:"px-6 py-4 whitespace-nowrap"},ee={class:"px-6 py-4 text-sm text-gray-900 text-gray-900 max-w-md truncate"},se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ae={class:"mt-6 flex items-center justify-between"},re={class:"flex-1 flex justify-between sm:hidden"},ne={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},oe={class:"text-sm text-gray-700 dark:text-gray-300"},de={class:"font-medium"},le={class:"font-medium"},me={class:"font-medium"},ce={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},ue={key:1,class:"text-center py-8"},be={__name:"UserShow",props:{user:Object,stats:Object,inventoryMovements:Object,systemLogs:Object,activityStats:Array,movementStats:Array,dailyActivity:Array,topItems:Array},setup(s){const b=I("movements"),L=[{key:"movements",label:"Movimientos de Inventario"},{key:"logs",label:"Logs del Sistema"}],p=d=>d?new Date(d).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"Sin fecha",k=d=>({create:"Crear",update:"Actualizar",delete:"Eliminar",login:"Iniciar Sesión",logout:"Cerrar Sesión",view:"Ver",index:"Listar",store:"Guardar",destroy:"Destruir",show:"Mostrar",edit:"Editar"})[d]||d,M=d=>({in:"Entrada",out:"Salida",adjustment:"Ajuste",production:"Producción",damage:"Daño",return:"Devolución"})[d]||d,A=d=>({create:"success",update:"warning",delete:"error",login:"success",logout:"secondary",view:"secondary",index:"secondary"})[d]||"secondary",j=d=>({in:"success",out:"error",adjustment:"warning",production:"primary",damage:"error",return:"warning"})[d]||"secondary";return(d,e)=>(a(),c(D,{title:"Detalle del Usuario"},{default:m(()=>[t("div",N,[l(C,null,{default:m(()=>[t("div",V,[t("div",z,[t("div",null,[l(u(x),{href:d.route("supervisor.dashboard"),class:"inline-flex items-center px-4 py-2 bg-slate-50 border border-transparent rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:m(()=>[l(u(E),{class:"w-4 h-4 mr-2"}),e[0]||(e[0]=o(" Regresar "))]),_:1},8,["href"])]),t("div",B,[t("h1",T,r(s.user.name),1),l(h,{variant:s.user.active?"success":"error",text:s.user.active?"Activo":"Inactivo"},null,8,["variant","text"]),t("p",F,r(s.user.email),1)])])]),t("div",O,[l(_,{title:"Total de Logs",value:s.stats.total_system_logs,icon:"document-text",color:"blue"},null,8,["value"]),l(_,{title:"Movimientos de Inventario",value:s.stats.total_inventory_movements,icon:"arrows-up-down",color:"green"},null,8,["value"]),l(_,{title:"Días en el Sistema",value:s.stats.days_since_creation,icon:"calendar",color:"purple"},null,8,["value"]),l(_,{title:"Última Actividad",value:s.stats.last_activity?p(s.stats.last_activity):"Sin actividad",icon:"clock",color:"orange"},null,8,["value"])]),t("div",P,[t("div",$,[t("div",q,[t("div",G,[e[8]||(e[8]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Información General ",-1)),t("dl",R,[t("div",null,[e[1]||(e[1]=t("dt",{class:"text-sm font-medium text-gray-500"},"ID",-1)),t("dd",U,r(s.user.id),1)]),t("div",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500"},"Nombre",-1)),t("dd",H,r(s.user.name),1)]),t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500"},"Email",-1)),t("dd",J,r(s.user.email),1)]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500"},"Estado",-1)),t("dd",K,[l(h,{variant:s.user.active?"success":"error",text:s.user.active?"Activo":"Inactivo"},null,8,["variant","text"])])]),t("div",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500"},"Email verificado",-1)),t("dd",Q,[l(h,{variant:s.user.email_verified_at?"success":"warning",text:s.user.email_verified_at?"Verificado":"No verificado"},null,8,["variant","text"])])]),t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Fecha de registro",-1)),t("dd",W,r(p(s.user.created_at)),1)]),t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500"},"Última actualización",-1)),t("dd",X,r(p(s.user.updated_at)),1)])])])])]),t("div",Y,[t("div",Z,[t("div",tt,[e[9]||(e[9]=t("h3",{class:"text-lg font-medium text-gray-900 text-gray-900 mb-4"}," Roles Asignados ",-1)),s.user.roles.length>0?(a(),n("div",et,[(a(!0),n(y,null,v(s.user.roles,i=>(a(),c(h,{key:i.id,variant:"primary",text:i.name},null,8,["text"]))),128))])):(a(),n("p",st," No tiene roles asignados "))])])]),t("div",it,[t("div",at,[t("div",rt,[e[10]||(e[10]=t("h3",{class:"text-lg font-medium text-gray-900 text-gray-900 mb-4"}," Items Más Manipulados ",-1)),s.topItems.length>0?(a(),n("div",nt,[(a(!0),n(y,null,v(s.topItems,i=>{var f,w;return a(),n("div",{key:i.component_id,class:"flex justify-between items-center"},[t("div",null,[t("p",ot,r(((f=i.component)==null?void 0:f.name)||"Item eliminado"),1),t("p",dt," ID: "+r((w=i.component)==null?void 0:w.id),1)]),t("span",lt,r(i.total_movements)+" movs. ",1)])}),128))])):(a(),n("p",mt," Sin movimientos de inventario "))])])])]),t("div",ct,[t("div",ut,[t("div",gt,[e[11]||(e[11]=t("h3",{class:"text-lg font-medium text-gray-900 text-gray-900 mb-4"}," Actividad por Tipo (Últimos 30 días) ",-1)),s.activityStats.length>0?(a(),n("div",xt,[(a(!0),n(y,null,v(s.activityStats,i=>(a(),n("div",{key:i.action,class:"flex justify-between items-center"},[t("span",yt,r(k(i.action)),1),t("span",vt,r(i.count),1)]))),128))])):(a(),n("p",ft," Sin actividad registrada "))])]),t("div",ht,[t("div",bt,[e[12]||(e[12]=t("h3",{class:"text-lg font-medium text-gray-900 text-gray-900 mb-4"}," Movimientos por Tipo (Últimos 30 días) ",-1)),s.movementStats.length>0?(a(),n("div",pt,[(a(!0),n(y,null,v(s.movementStats,i=>(a(),n("div",{key:i.movement_type,class:"flex justify-between items-center"},[t("span",wt,r(M(i.movement_type)),1),t("span",_t,r(i.count),1)]))),128))])):(a(),n("p",kt," Sin movimientos de inventario "))])])]),t("div",Mt,[t("div",St,[t("nav",Lt,[(a(),n(y,null,v(L,i=>t("button",{key:i.key,onClick:f=>b.value=i.key,class:S(["whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",b.value===i.key?"border-blue-500 text-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 text-gray-400 hover:text-gray-700"])},r(i.label),11,At)),64))])]),t("div",jt,[b.value==="movements"?(a(),n("div",It,[s.inventoryMovements.data.length>0?(a(),n("div",Dt,[t("div",Ct,[t("table",Et,[e[13]||(e[13]=t("thead",{class:"bg-gray-50 bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Item "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tipo "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Cantidad "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Notas "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha ")])],-1)),t("tbody",Nt,[(a(!0),n(y,null,v(s.inventoryMovements.data,i=>{var f,w;return a(),n("tr",{key:i.id},[t("td",Vt,[t("div",null,[t("div",zt,r(((f=i.component)==null?void 0:f.name)||"Item eliminado"),1),t("div",Bt," ID: "+r((w=i.component)==null?void 0:w.id),1)])]),t("td",Tt,[l(h,{variant:j(i.type),text:M(i.type)},null,8,["variant","text"])]),t("td",{class:S(["px-6 py-4 whitespace-nowrap text-sm font-medium",i.quantity>0?"text-green-600 text-green-600":"text-red-600 text-red-600"])},r(i.quantity>0?"+":"")+r(i.quantity),3),t("td",Ft,r(i.notes||"-"),1),t("td",Ot,r(p(i.created_at)),1)])}),128))])])]),t("div",Pt,[t("div",$t,[s.inventoryMovements.prev_page_url?(a(),c(u(x),{key:0,href:s.inventoryMovements.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:m(()=>e[14]||(e[14]=[o(" Anterior ")])),_:1},8,["href"])):g("",!0),s.inventoryMovements.next_page_url?(a(),c(u(x),{key:1,href:s.inventoryMovements.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:m(()=>e[15]||(e[15]=[o(" Siguiente ")])),_:1},8,["href"])):g("",!0)]),t("div",qt,[t("div",null,[t("p",Gt,[e[16]||(e[16]=o(" Mostrando ")),t("span",Rt,r(s.inventoryMovements.from),1),e[17]||(e[17]=o(" a ")),t("span",Ut,r(s.inventoryMovements.to),1),e[18]||(e[18]=o(" de ")),t("span",Ht,r(s.inventoryMovements.total),1),e[19]||(e[19]=o(" resultados "))])]),t("div",null,[t("nav",Jt,[s.inventoryMovements.prev_page_url?(a(),c(u(x),{key:0,href:s.inventoryMovements.prev_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:m(()=>e[20]||(e[20]=[o(" Anterior ")])),_:1},8,["href"])):g("",!0),s.inventoryMovements.next_page_url?(a(),c(u(x),{key:1,href:s.inventoryMovements.next_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:m(()=>e[21]||(e[21]=[o(" Siguiente ")])),_:1},8,["href"])):g("",!0)])])])])])):(a(),n("div",Kt,e[22]||(e[22]=[t("p",{class:"text-gray-500"}," Este usuario no tiene movimientos de inventario registrados. ",-1)])))])):g("",!0),b.value==="logs"?(a(),n("div",Qt,[s.systemLogs.data.length>0?(a(),n("div",Wt,[t("div",Xt,[t("table",Yt,[e[23]||(e[23]=t("thead",{class:"bg-gray-50 bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Acción "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Descripción "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," IP "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha ")])],-1)),t("tbody",Zt,[(a(!0),n(y,null,v(s.systemLogs.data,i=>(a(),n("tr",{key:i.id},[t("td",te,[l(h,{variant:A(i.action),text:k(i.action)},null,8,["variant","text"])]),t("td",ee,r(i.description),1),t("td",se,r(i.ip_address),1),t("td",ie,r(p(i.created_at)),1)]))),128))])])]),t("div",ae,[t("div",re,[s.systemLogs.prev_page_url?(a(),c(u(x),{key:0,href:s.systemLogs.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:m(()=>e[24]||(e[24]=[o(" Anterior ")])),_:1},8,["href"])):g("",!0),s.systemLogs.next_page_url?(a(),c(u(x),{key:1,href:s.systemLogs.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:m(()=>e[25]||(e[25]=[o(" Siguiente ")])),_:1},8,["href"])):g("",!0)]),t("div",ne,[t("div",null,[t("p",oe,[e[26]||(e[26]=o(" Mostrando ")),t("span",de,r(s.systemLogs.from),1),e[27]||(e[27]=o(" a ")),t("span",le,r(s.systemLogs.to),1),e[28]||(e[28]=o(" de ")),t("span",me,r(s.systemLogs.total),1),e[29]||(e[29]=o(" resultados "))])]),t("div",null,[t("nav",ce,[s.systemLogs.prev_page_url?(a(),c(u(x),{key:0,href:s.systemLogs.prev_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:m(()=>e[30]||(e[30]=[o(" Anterior ")])),_:1},8,["href"])):g("",!0),s.systemLogs.next_page_url?(a(),c(u(x),{key:1,href:s.systemLogs.next_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:m(()=>e[31]||(e[31]=[o(" Siguiente ")])),_:1},8,["href"])):g("",!0)])])])])])):(a(),n("div",ue,e[32]||(e[32]=[t("p",{class:"text-gray-500"}," Este usuario no tiene logs del sistema registrados. ",-1)])))])):g("",!0)])])]),_:1})])]),_:1}))}};export{be as default};
