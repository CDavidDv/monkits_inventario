import{r as b,c as J,w as j,o as r,a as e,b as m,u as x,t as a,f as v,d as l,g as _,F as C,e as h,p as E,j as g,k as y,l as k,n as U,A as V}from"./app-DwDI59q_.js";import{c as $,_ as K,E as Q,S as X}from"./AppLayout-CCrStt77.js";import{C as Y}from"./Container-DRjv08aA.js";import{T as ee}from"./axios-config-WavzwHXX.js";import{S as i}from"./sweetalert2.esm.all-BGf-Fe8G.js";import{S as te}from"./square-pen-Bfmdhmlq.js";import{T as se}from"./trash-2-BPwxdvzR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=$("CircleCheckIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=$("FileIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-vue-next v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=$("UserRoundIcon",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-vue-next v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=$("UsersIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ae={class:"pb-8 space-y-8"},ie={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},ne={class:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500"},de={class:"flex items-center"},ue={class:"p-3 bg-blue-100 rounded-full"},ce={class:"ml-4"},me={class:"text-3xl font-bold text-gray-900"},pe={class:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500"},xe={class:"flex items-center"},fe={class:"p-3 bg-green-100 rounded-full"},ge={class:"ml-4"},be={class:"text-3xl font-bold text-gray-900"},ve={class:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-yellow-500"},ye={class:"flex items-center"},we={class:"p-3 bg-yellow-100 rounded-full"},he={class:"ml-4"},ke={class:"text-3xl font-bold text-gray-900"},_e={class:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500"},Ce={class:"flex items-center"},Ee={class:"p-3 bg-purple-100 rounded-full"},Ue={class:"ml-4"},Se={class:"text-3xl font-bold text-gray-900"},Be={class:"bg-white rounded-xl shadow-lg p-6"},Me={class:"flex items-center justify-between mb-6"},Re={class:"text-xl font-semibold text-gray-900 flex gap-2"},$e={class:"overflow-x-auto"},Ae={class:"min-w-full divide-y divide-gray-200"},ze={class:"bg-white divide-y divide-gray-200"},Ne={class:"px-6 py-4 whitespace-nowrap"},je={class:"flex items-center"},Ve={class:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center"},qe={class:"text-indigo-600 font-medium"},Ie={class:"ml-4"},Te={class:"text-sm font-medium text-gray-900"},Fe={class:"px-6 py-4 whitespace-nowrap"},De={class:"text-sm text-gray-900"},Oe={class:"px-6 py-4 whitespace-nowrap"},Le={class:"flex flex-wrap gap-1"},He={key:0,class:"text-xs text-gray-400 italic"},Pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ge={class:"px-6 py-4 whitespace-nowrap"},We={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},Ze={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"},Je={class:"px-6 py-4 whitespace-nowrap"},Ke={class:"flex items-center gap-2"},Qe=["onClick","title"],Xe={key:0,class:"w-4 h-4 bg-green-500 rounded-full"},Ye={key:1,class:"w-4 h-4 bg-gray-300 rounded-full"},et=["onClick"],tt=["onClick"],st=["onClick"],ot=["onClick"],rt={class:"bg-white rounded-xl shadow-lg p-6"},lt={class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4"},at={class:"flex items-center justify-between mb-2"},it={class:"text-lg font-medium text-gray-900"},nt={class:"text-sm text-gray-500"},dt={class:"text-sm text-gray-500"},ut={class:"mt-3"},ct={key:0,class:"mb-4"},mt={class:"text-sm text-gray-600 mb-2"},pt={class:"font-medium"},xt={class:"text-sm text-gray-600 mb-4"},ft={class:"font-medium"},gt={class:"space-y-2"},bt={class:"space-y-2"},vt=["id","value"],yt=["for"],wt={class:"mt-3"},ht={key:0},kt={class:"mt-3"},_t={class:"mt-2 space-y-2 max-h-32 overflow-y-auto"},Ct=["id","value"],Et=["for"],jt={__name:"Dashboard",props:{users:Array,roles:Array,stats:Object},setup(f){const u=f,A=b(!1),z=b(!1),N=b(!1),c=b(null),w=b([]),n=b({name:"",email:"",password:"",password_confirmation:""}),p=b({name:"",email:"",password:"",roles:[]}),S=o=>({admin:"bg-red-100 text-red-800",manager:"bg-blue-100 text-blue-800",user:"bg-green-100 text-green-800",inventory:"bg-purple-100 text-purple-800"})[o]||"bg-gray-100 text-gray-800",I=o=>u.users.filter(t=>t.roles.some(s=>s.name===o)).length,T=o=>new Date(o).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),F=o=>{k.visit(route("supervisor.users.show",o.id))},D=async o=>{try{const t=o.active?"desactivar":"activar";if((await i.fire({title:`¿${t.charAt(0).toUpperCase()+t.slice(1)} usuario?`,text:`¿Estás seguro de que deseas ${t} a ${o.name}?`,icon:"question",showCancelButton:!0,confirmButtonColor:o.active?"#EF4444":"#10B981",cancelButtonColor:"#6B7280",confirmButtonText:`Sí, ${t}`,cancelButtonText:"Cancelar"})).isConfirmed){const d=await k.post(`/supervisor/users/${o.id}/toggle-active`,{},{preserveScroll:!0,onSuccess:()=>{o.active=!o.active,i.fire({title:"¡Actualizado!",text:`Usuario ${o.active?"activado":"desactivado"} correctamente`,icon:"success",timer:2e3,showConfirmButton:!1})},onError:Ut=>{i.fire({title:"Error",text:"No se pudo actualizar el estado del usuario",icon:"error"})}})}}catch(t){console.error("Error toggling user status:",t),i.fire({title:"Error",text:"Ocurrió un error inesperado",icon:"error"})}},O=o=>{c.value=o,w.value=o.roles.map(t=>t.id),A.value=!0},B=()=>{A.value=!1,c.value=null,w.value=[]},L=async()=>{try{await k.post(`/supervisor/users/${c.value.id}/roles`,{roles:w.value},{preserveScroll:!0,onSuccess:()=>{const o=u.users.findIndex(t=>t.id===c.value.id);if(o!==-1){const t=u.roles.filter(s=>w.value.includes(s.id));u.users[o].roles=t}B(),i.fire({title:"¡Actualizado!",text:"Roles del usuario actualizados correctamente",icon:"success",timer:2e3,showConfirmButton:!1})},onError:o=>{i.fire({title:"Error",text:"No se pudieron actualizar los roles del usuario",icon:"error"})}})}catch(o){console.error("Error updating user roles:",o),i.fire({title:"Error",text:"Ocurrió un error inesperado",icon:"error"})}},H=o=>{c.value=o,n.value={name:o.name,email:o.email,password:"",password_confirmation:""},z.value=!0},M=()=>{z.value=!1,c.value=null,n.value={name:"",email:"",password:"",password_confirmation:""}},P=()=>{N.value=!0},R=()=>{N.value=!1,p.value={name:"",email:"",password:"",roles:[]}},G=async()=>{try{await k.put(`/supervisor/users/${c.value.id}`,n.value,{preserveScroll:!0,onSuccess:()=>{const o=u.users.findIndex(t=>t.id===c.value.id);o!==-1&&(u.users[o].name=n.value.name,u.users[o].email=n.value.email,u.users[o].password=n.value.password),M(),i.fire({title:"¡Actualizado!",text:"Usuario actualizado correctamente",icon:"success",timer:2e3,showConfirmButton:!1})},onError:o=>{i.fire({title:"Error",text:"No se pudo actualizar el usuario",icon:"error"})}})}catch(o){console.error("Error updating user:",o),i.fire({title:"Error",text:"Ocurrió un error inesperado",icon:"error"})}},W=async o=>{if((await i.fire({title:"¿Eliminar usuario?",text:`¿Estás seguro de que deseas eliminar a ${o.name}? Esta acción no se puede deshacer.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#EF4444",cancelButtonColor:"#6B7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await k.delete(`/supervisor/users/${o.id}`,{preserveScroll:!0,onSuccess:()=>{const s=u.users.findIndex(d=>d.id===o.id);s!==-1&&u.users.splice(s,1),i.fire({title:"¡Eliminado!",text:"Usuario eliminado correctamente",icon:"success",timer:2e3,showConfirmButton:!1})},onError:s=>{i.fire({title:"Error",text:"No se pudo eliminar el usuario",icon:"error"})}})}catch(s){console.error("Error deleting user:",s),i.fire({title:"Error",text:"Ocurrió un error inesperado",icon:"error"})}},Z=async()=>{try{await k.post("/supervisor/users",p.value,{preserveScroll:!0,onSuccess:o=>{if(o.props.users){const t=o.props.users[o.props.users.length-1];t&&!u.users.find(s=>s.id===t.id)&&u.users.push(t)}R(),i.fire({title:"¡Usuario creado!",text:"El nuevo usuario ha sido creado correctamente",icon:"success",timer:2e3,showConfirmButton:!1})},onError:o=>{let t="No se pudo crear el usuario";o.email?t=o.email[0]:o.password?t=o.password[0]:o.name&&(t=o.name[0]),i.fire({title:"Error",text:t,icon:"error"})}})}catch(o){console.error("Error creating user:",o),i.fire({title:"Error",text:"Ocurrió un error inesperado",icon:"error"})}};return(o,t)=>(r(),J(K,{title:"Administrar personal"},{header:j(()=>t[12]||(t[12]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Administrar Personal ",-1)])),default:j(()=>[m(Y,null,{default:j(()=>[e("div",ae,[e("div",ie,[e("div",ne,[e("div",de,[e("div",ue,[m(x(q),{class:"w-8 h-8 text-blue-600"})]),e("div",ce,[t[13]||(t[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Usuarios",-1)),e("p",me,a(f.stats.total_users),1)])])]),e("div",pe,[e("div",xe,[e("div",fe,[m(x(oe),{class:"w-8 h-8 text-green-600"})]),e("div",ge,[t[14]||(t[14]=e("p",{class:"text-sm font-medium text-gray-600"},"Con Roles",-1)),e("p",be,a(f.stats.users_with_roles),1)])])]),e("div",ve,[e("div",ye,[e("div",we,[m(x(ee),{class:"w-8 h-8 text-yellow-600"})]),e("div",he,[t[15]||(t[15]=e("p",{class:"text-sm font-medium text-gray-600"},"Sin Roles",-1)),e("p",ke,a(f.stats.users_without_roles),1)])])]),e("div",_e,[e("div",Ce,[e("div",Ee,[m(x(re),{class:"w-8 h-8 text-purple-600"})]),e("div",Ue,[t[16]||(t[16]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Roles",-1)),e("p",Se,a(f.stats.total_roles),1)])])])]),e("div",Be,[e("div",Me,[e("h3",Re,[m(x(le),{class:""}),t[17]||(t[17]=v(" Usuarios del Sistema"))]),e("button",{onClick:P,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[m(x(q),{class:"w-4 h-4"}),t[18]||(t[18]=v(" Nuevo Usuario "))])]),e("div",$e,[e("table",Ae,[t[19]||(t[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Usuario"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Email"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Roles"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Registro"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Activo"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",ze,[(r(!0),l(C,null,_(f.users,s=>(r(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Ne,[e("div",je,[e("div",Ve,[e("span",qe,a(s.name.charAt(0).toUpperCase()),1)]),e("div",Ie,[e("div",Te,a(s.name),1)])])]),e("td",Fe,[e("div",De,a(s.email),1)]),e("td",Oe,[e("div",Le,[(r(!0),l(C,null,_(s.roles,d=>(r(),l("span",{key:d.id,class:U(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",S(d.name)])},a(d.name),3))),128)),s.roles.length===0?(r(),l("span",He,"Sin roles asignados")):h("",!0)])]),e("td",Pe,a(T(s.created_at)),1),e("td",Ge,[s.active?(r(),l("span",We," Activo ")):(r(),l("span",Ze," Inactivo "))]),e("td",Je,[e("div",Ke,[e("button",{onClick:d=>D(s),class:U([s.active?"text-green-600 hover:text-green-800":"text-gray-400 hover:text-gray-600","p-1 rounded transition-colors"]),title:s.active?"Desactivar":"Activar"},[s.active?(r(),l("div",Xe)):(r(),l("div",Ye))],10,Qe),e("button",{onClick:d=>F(s),class:"text-gray-600 hover:text-gray-800 p-1 rounded transition-colors",title:"Ver detalles"},[m(x(Q),{class:"w-4 h-4"})],8,et),e("button",{onClick:d=>O(s),class:"text-purple-600 hover:text-purple-800 p-1 rounded transition-colors",title:"Administrar Roles"},[m(x(X),{class:"w-4 h-4"})],8,tt),e("button",{onClick:d=>H(s),class:"text-blue-600 hover:text-blue-800 p-1 rounded transition-colors",title:"Editar Usuario"},[m(x(te),{class:"w-4 h-4"})],8,st),e("button",{onClick:d=>W(s),class:"text-red-600 hover:text-red-800 p-1 rounded transition-colors",title:"Eliminar Usuario"},[m(x(se),{class:"w-4 h-4"})],8,ot)])])]))),128))])])])]),e("div",rt,[t[20]||(t[20]=e("div",{class:"flex items-center justify-between mb-6"},[e("h3",{class:"text-xl font-semibold text-gray-900"},"🛡️ Roles del Sistema")],-1)),e("div",lt,[(r(!0),l(C,null,_(f.roles,s=>(r(),l("div",{key:s.id,class:"border border-gray-400 rounded-lg p-4 hover:shadow-md transition-shadow"},[e("div",at,[e("h4",it,a(s.name),1),e("span",{class:U(["px-2 py-1 rounded-full text-xs font-medium",S(s.name)])},a(s.name),3)]),e("p",nt,a(s.permissions_count)+" permisos",1),e("p",dt,a(I(s.name))+" usuarios",1)]))),128))])])])]),_:1}),A.value?(r(),l("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:B},[e("div",{class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",onClick:t[1]||(t[1]=E(()=>{},["stop"]))},[e("div",ut,[e("div",{class:"flex items-center justify-between mb-4"},[t[22]||(t[22]=e("h3",{class:"text-lg font-medium text-gray-900"},"Administrar Roles",-1)),e("button",{onClick:B,class:"text-gray-400 hover:text-gray-600"},t[21]||(t[21]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c.value?(r(),l("div",ct,[e("p",mt,[t[23]||(t[23]=v("Usuario: ")),e("span",pt,a(c.value.name),1)]),e("p",xt,[t[24]||(t[24]=v("Email: ")),e("span",ft,a(c.value.email),1)]),e("div",gt,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Roles asignados:",-1)),e("div",bt,[(r(!0),l(C,null,_(f.roles,s=>(r(),l("div",{key:s.id,class:"flex items-center"},[g(e("input",{id:`role-${s.id}`,"onUpdate:modelValue":t[0]||(t[0]=d=>w.value=d),value:s.id,type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,vt),[[V,w.value]]),e("label",{for:`role-${s.id}`,class:"ml-2 block text-sm text-gray-900"},[e("span",{class:U(["px-2 py-1 rounded-full text-xs font-medium mr-2",S(s.name)])},a(s.name),3),v(" ("+a(s.permissions_count)+" permisos) ",1)],8,yt)]))),128))])])])):h("",!0),e("div",{class:"flex justify-end space-x-3"},[e("button",{onClick:B,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Cancelar "),e("button",{onClick:L,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Guardar Cambios ")])])])])):h("",!0),z.value?(r(),l("div",{key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:M},[e("div",{class:"relative top-20 mx-auto py-10 border max-w-3xl px-10 min-w-3xl shadow-lg rounded-md bg-white",onClick:t[6]||(t[6]=E(()=>{},["stop"]))},[e("div",wt,[e("div",{class:"flex items-center justify-between mb-4"},[t[27]||(t[27]=e("h3",{class:"text-lg font-medium text-gray-900"},"Editar Usuario",-1)),e("button",{onClick:M,class:"text-gray-400 hover:text-gray-600"},t[26]||(t[26]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:E(G,["prevent"]),class:"space-y-4"},[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nombre",-1)),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.value.name=s),placeholder:"Nombre completo",type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[y,n.value.name]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.value.email=s),placeholder:"example@email.com",type:"email",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[y,n.value.email]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},[v("Contraseña "),e("small",null,"(Opcional)")],-1)),g(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.value.password=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",type:"password",placeholder:"Nueva contraseña"},null,512),[[y,n.value.password]])]),n.value.password?(r(),l("div",ht,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700"},"Confirmar Contraseña",-1)),g(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.value.password_confirmation=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",type:"password",placeholder:"Confirmar nueva contraseña"},null,512),[[y,n.value.password_confirmation]])])):h("",!0),e("div",{class:"flex justify-end space-x-3"},[e("button",{type:"button",onClick:M,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Cancelar "),t[32]||(t[32]=e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Actualizar ",-1))])],32)])])])):h("",!0),N.value?(r(),l("div",{key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-scroll h-full w-full z-50",onClick:R},[e("div",{class:"relative top-5 mx-auto py-10 overflow-auto border max-w-3xl px-10 min-w-3xl shadow-lg rounded-md bg-white",onClick:t[11]||(t[11]=E(()=>{},["stop"]))},[e("div",kt,[e("div",{class:"flex items-center justify-between mb-4"},[t[34]||(t[34]=e("h3",{class:"text-lg font-medium text-gray-900"},"Crear Nuevo Usuario",-1)),e("button",{onClick:R,class:"text-gray-400 hover:text-gray-600"},t[33]||(t[33]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:E(Z,["prevent"]),class:"space-y-4"},[e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nombre *",-1)),g(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>p.value.name=s),placeholder:"Nombre completo",type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[y,p.value.name]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email *",-1)),g(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>p.value.email=s),placeholder:"example@email.com",type:"email",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[y,p.value.email]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700"},"Contraseña *",-1)),g(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>p.value.password=s),placeholder:"Contraseña segura (mínimo 8 caracteres)",type:"password",required:"",minlength:"8",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[y,p.value.password]])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700"},"Roles (Opcional)",-1)),e("div",_t,[(r(!0),l(C,null,_(f.roles,s=>(r(),l("div",{key:s.id,class:"flex items-center"},[g(e("input",{id:`create-role-${s.id}`,"onUpdate:modelValue":t[10]||(t[10]=d=>p.value.roles=d),value:s.id,type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Ct),[[V,p.value.roles]]),e("label",{for:`create-role-${s.id}`,class:"ml-2 block text-sm text-gray-900"},[e("span",{class:U(["px-2 py-1 rounded-full text-xs font-medium mr-2",S(s.name)])},a(s.name),3),v(" ("+a(s.permissions_count)+" permisos) ",1)],8,Et)]))),128))])]),e("div",{class:"flex justify-end space-x-3"},[e("button",{type:"button",onClick:R,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Cancelar "),t[39]||(t[39]=e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Crear Usuario ",-1))])],32)])])])):h("",!0)]),_:1}))}};export{jt as default};
