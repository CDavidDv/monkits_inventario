import{T as k,h as V,c as C,w as f,o as r,a as t,t as a,b as o,f as b,u as s,i as S,n as h,p as E,d,e as n,j as w,v as D,k as j}from"./app-BqIOlYv4.js";import{_ as A}from"./AppLayout-CMsQbeNk.js";import{_ as c}from"./InputLabel-CVdwMLDr.js";import{_ as g}from"./TextInput-CutBnAWr.js";import{_ as p}from"./InputError-vfZy364d.js";import{_ as $}from"./PrimaryButton-D1208OA8.js";import{_ as U}from"./SecondaryButton-BZf2RQZ7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"flex justify-between items-center"},N={class:"font-semibold text-xl text-gray-800 leading-tight"},B={class:"py-12"},T={class:"max-w-3xl mx-auto sm:px-6 lg:px-8"},_={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},I={class:"p-6"},M={class:"mb-6 p-4 bg-blue-50 rounded-lg"},P={class:"flex items-center mb-3"},q={class:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg mr-4"},L={class:"font-medium text-blue-900"},W={class:"text-blue-700 text-sm"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},O={class:"md:col-span-2"},R={key:0,class:"mt-1 text-sm text-orange-600"},F={key:0,class:"mt-1 text-sm text-orange-600"},G={key:0,class:"mt-1 text-sm text-orange-600"},J={key:0,class:"mt-1 text-sm text-orange-600"},K={key:0,class:"mt-1 text-sm text-orange-600"},Q={class:"md:col-span-2"},X={key:0,class:"mt-1 text-sm text-orange-600"},Y={key:0,class:"mt-6 p-4 bg-orange-50 rounded-lg"},Z={class:"text-sm text-orange-600 space-y-1"},ee={key:0},se={key:1},te={key:2},le={key:3},ie={key:4},ae={key:5},oe={class:"mt-6 p-4 bg-gray-50 rounded-lg"},re={class:"text-sm text-gray-600 grid grid-cols-1 md:grid-cols-2 gap-4"},de={class:"flex items-center justify-end mt-6 space-x-3"},ne={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},xe={__name:"Edit",props:{supplier:Object},setup(i){const u=i,e=k({name:u.supplier.name,phone:u.supplier.phone||"",email:u.supplier.email||"",address:u.supplier.address||"",website:u.supplier.website||"",status:u.supplier.status}),x=V(()=>e.name!==u.supplier.name||e.phone!==(u.supplier.phone||"")||e.email!==(u.supplier.email||"")||e.address!==(u.supplier.address||"")||e.website!==(u.supplier.website||"")||e.status!==u.supplier.status),y=()=>{e.put(route("suppliers.update",u.supplier.id),{onSuccess:()=>{}})};return(v,l)=>(r(),C(A,{title:"Editar Proveedor"},{header:f(()=>[t("div",z,[t("h2",N," Editar Proveedor: "+a(i.supplier.name),1),o(s(S),{href:v.route("suppliers.index"),class:"text-blue-600 hover:text-blue-800"},{default:f(()=>l[7]||(l[7]=[b(" ← Volver a la lista ")])),_:1},8,["href"])])]),default:f(()=>[t("div",B,[t("div",T,[t("div",_,[t("div",I,[t("div",M,[l[8]||(l[8]=t("h3",{class:"text-lg font-medium text-blue-900 mb-2"},"Información Actual",-1)),t("div",P,[t("div",q,a(i.supplier.name.charAt(0).toUpperCase()),1),t("div",null,[t("div",L,a(i.supplier.name),1),t("div",W,[t("span",{class:h(i.supplier.status==="active"?"text-green-600":"text-red-600")},a(i.supplier.status==="active"?"Activo":"Inactivo"),3)])])])]),t("form",{onSubmit:E(y,["prevent"])},[t("div",H,[t("div",O,[o(c,{for:"name",value:"Nombre del Proveedor *"}),o(g,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":l[0]||(l[0]=m=>s(e).name=m),type:"text",class:"mt-1 block w-full",required:"",placeholder:"Ej: Distribuidora Electrónica S.A."},null,8,["modelValue"]),o(p,{class:"mt-2",message:s(e).errors.name},null,8,["message"]),s(e).name!==i.supplier.name?(r(),d("div",R,' ⚠️ Cambio: "'+a(i.supplier.name)+'" → "'+a(s(e).name)+'" ',1)):n("",!0)]),t("div",null,[o(c,{for:"email",value:"Email"}),o(g,{id:"email",modelValue:s(e).email,"onUpdate:modelValue":l[1]||(l[1]=m=>s(e).email=m),type:"email",class:"mt-1 block w-full",placeholder:"Ej: contacto@empresa.com"},null,8,["modelValue"]),o(p,{class:"mt-2",message:s(e).errors.email},null,8,["message"]),s(e).email!==(i.supplier.email||"")?(r(),d("div",F," ⚠️ Cambio de email ")):n("",!0)]),t("div",null,[o(c,{for:"phone",value:"Teléfono"}),o(g,{id:"phone",modelValue:s(e).phone,"onUpdate:modelValue":l[2]||(l[2]=m=>s(e).phone=m),type:"tel",class:"mt-1 block w-full",placeholder:"Ej: +52 55 1234 5678"},null,8,["modelValue"]),o(p,{class:"mt-2",message:s(e).errors.phone},null,8,["message"]),s(e).phone!==(i.supplier.phone||"")?(r(),d("div",G," ⚠️ Cambio de teléfono ")):n("",!0)]),t("div",null,[o(c,{for:"website",value:"Sitio Web"}),o(g,{id:"website",modelValue:s(e).website,"onUpdate:modelValue":l[3]||(l[3]=m=>s(e).website=m),type:"url",class:"mt-1 block w-full",placeholder:"https://ejemplo.com"},null,8,["modelValue"]),o(p,{class:"mt-2",message:s(e).errors.website},null,8,["message"]),s(e).website!==(i.supplier.website||"")?(r(),d("div",J," ⚠️ Cambio de website ")):n("",!0)]),t("div",null,[o(c,{for:"status",value:"Estado *"}),w(t("select",{id:"status","onUpdate:modelValue":l[4]||(l[4]=m=>s(e).status=m),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",required:""},l[9]||(l[9]=[t("option",{value:"active"},"Activo",-1),t("option",{value:"inactive"},"Inactivo",-1)]),512),[[D,s(e).status]]),o(p,{class:"mt-2",message:s(e).errors.status},null,8,["message"]),s(e).status!==i.supplier.status?(r(),d("div",K,' ⚠️ Cambio: "'+a(i.supplier.status)+'" → "'+a(s(e).status)+'" ',1)):n("",!0)]),t("div",Q,[o(c,{for:"address",value:"Dirección"}),w(t("textarea",{id:"address","onUpdate:modelValue":l[5]||(l[5]=m=>s(e).address=m),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Calle, número, colonia, ciudad, código postal..."},null,512),[[j,s(e).address]]),o(p,{class:"mt-2",message:s(e).errors.address},null,8,["message"]),s(e).address!==(i.supplier.address||"")?(r(),d("div",X," ⚠️ Dirección modificada ")):n("",!0)])]),x.value?(r(),d("div",Y,[l[10]||(l[10]=t("h4",{class:"text-sm font-medium text-orange-700 mb-2"},"Resumen de Cambios:",-1)),t("ul",Z,[s(e).name!==i.supplier.name?(r(),d("li",ee,' • Nombre: "'+a(i.supplier.name)+'" → "'+a(s(e).name)+'" ',1)):n("",!0),s(e).phone!==(i.supplier.phone||"")?(r(),d("li",se,' • Teléfono: "'+a(i.supplier.phone||"Sin teléfono")+'" → "'+a(s(e).phone||"Sin teléfono")+'" ',1)):n("",!0),s(e).email!==(i.supplier.email||"")?(r(),d("li",te,' • Email: "'+a(i.supplier.email||"Sin email")+'" → "'+a(s(e).email||"Sin email")+'" ',1)):n("",!0),s(e).website!==(i.supplier.website||"")?(r(),d("li",le,' • Website: "'+a(i.supplier.website||"Sin website")+'" → "'+a(s(e).website||"Sin website")+'" ',1)):n("",!0),s(e).status!==i.supplier.status?(r(),d("li",ie,' • Estado: "'+a(i.supplier.status)+'" → "'+a(s(e).status)+'" ',1)):n("",!0),s(e).address!==(i.supplier.address||"")?(r(),d("li",ae," • Dirección actualizada ")):n("",!0)])])):n("",!0),t("div",oe,[l[13]||(l[13]=t("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Información del registro:",-1)),t("div",re,[t("div",null,[l[11]||(l[11]=t("span",{class:"font-medium"},"Creado:",-1)),b(" "+a(new Date(i.supplier.created_at).toLocaleDateString("es-ES")),1)]),t("div",null,[l[12]||(l[12]=t("span",{class:"font-medium"},"Actualizado:",-1)),b(" "+a(new Date(i.supplier.updated_at).toLocaleDateString("es-ES")),1)])])]),t("div",de,[o(U,{type:"button",onClick:l[6]||(l[6]=m=>v.$inertia.visit(v.route("suppliers.index")))},{default:f(()=>l[14]||(l[14]=[b(" Cancelar ")])),_:1}),o($,{class:h({"opacity-25":s(e).processing}),disabled:s(e).processing||!x.value},{default:f(()=>[s(e).processing?(r(),d("svg",ne,l[15]||(l[15]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):n("",!0),l[16]||(l[16]=b(" Actualizar Proveedor "))]),_:1},8,["class","disabled"])])],32)])])])])]),_:1}))}};export{xe as default};
