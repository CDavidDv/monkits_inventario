import{c as b,w as h,o as n,a as t,b as c,u as r,i as _,t as i,n as x,d as l,e as m,F as g,g as u}from"./app-Bbm6nPfF.js";import{c as y,_ as M,P as A}from"./AppLayout-BVLftzrV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=y("ActivityIcon",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-vue-next v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=y("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=y("TrendingDownIcon",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-vue-next v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=y("TrendingUpIcon",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),N={class:"flex items-center justify-between"},$={class:"flex items-center gap-4"},B={class:"font-semibold text-xl text-gray-800 leading-tight"},H={class:"text-sm text-gray-600"},P={class:"flex items-center gap-2"},U={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},V={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},z={class:"bg-white overflow-hidden shadow-xl rounded-lg"},Q={class:"p-6"},G={class:"flex items-center"},K={class:"flex-shrink-0"},q={class:"ml-4"},J={class:"text-2xl font-bold text-gray-900"},R={class:"bg-white overflow-hidden shadow-xl rounded-lg"},W={class:"p-6"},X={class:"flex items-center"},Y={class:"flex-shrink-0"},Z={class:"ml-4"},tt={class:"text-2xl font-bold text-green-700"},et={class:"bg-white overflow-hidden shadow-xl rounded-lg"},st={class:"p-6"},ot={class:"flex items-center"},it={class:"flex-shrink-0"},at={class:"ml-4"},nt={class:"text-2xl font-bold text-red-700"},lt={class:"bg-white overflow-hidden shadow-xl rounded-lg"},dt={class:"p-6"},rt={class:"flex items-center"},ct={class:"flex-shrink-0"},xt={class:"ml-4"},mt={class:"text-2xl font-bold text-purple-700"},gt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ut={class:"bg-white shadow-xl rounded-lg"},yt={class:"p-6 space-y-4"},ht={class:"mt-1 text-sm text-gray-900"},ft={key:0},vt={class:"mt-1 text-sm text-gray-900"},bt={class:"grid grid-cols-2 gap-4"},_t={class:"mt-1 text-sm text-gray-900"},pt={class:"mt-1 text-sm text-gray-900"},wt={class:"grid grid-cols-3 gap-4"},kt={class:"mt-1 text-sm text-gray-900"},St={class:"mt-1 text-sm text-gray-900"},Ft={class:"grid grid-cols-2 gap-4"},Tt={class:"mt-1 text-sm text-gray-900"},jt={class:"mt-1 text-sm text-gray-900"},It={key:0,class:"bg-white shadow-xl rounded-lg"},Mt={class:"p-6"},At={class:"space-y-3"},Ct={class:"flex-1"},Et={class:"flex items-center gap-2"},Dt={class:"text-sm font-medium text-gray-900"},Lt={class:"text-xs text-gray-500"},Nt={class:"text-xs text-gray-500"},$t={class:"text-right"},Bt={class:"text-sm font-medium text-gray-900"},Ht={class:"text-xs text-gray-500"},Pt={key:1,class:"bg-white shadow-xl rounded-lg"},Ut={class:"p-6"},Ot={class:"space-y-3"},Vt={class:"flex-1"},zt={class:"flex items-center gap-2"},Qt={class:"text-sm font-medium text-gray-900"},Gt={class:"text-xs text-gray-500"},Kt={class:"text-xs text-gray-500"},qt={class:"text-right"},Jt={class:"text-sm font-medium text-gray-900"},Rt={class:"bg-white shadow-xl rounded-lg"},Wt={class:"overflow-x-auto"},Xt={class:"min-w-full divide-y divide-gray-200"},Yt={class:"bg-white divide-y divide-gray-200"},Zt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},te={class:"px-6 py-4 whitespace-nowrap"},ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},se={class:"px-6 py-4 text-sm text-gray-900"},oe={key:0},ie={key:0,class:"px-6 py-4 border-t border-gray-200"},ae={class:"flex items-center justify-between"},ne={class:"text-sm text-gray-700"},le={class:"flex space-x-1"},xe={__name:"Show",props:{item:Object,movements:Object,assignedElements:Array,usedInItems:Array,stats:Object},setup(o){const f=a=>({element:"Elemento",component:"Componente",kit:"Kit"})[a]||a,p=a=>a.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800",w=a=>{const e=parseFloat(a.current_stock),s=parseFloat(a.min_stock),d=parseFloat(a.max_stock);return e<s?"bg-red-100 text-red-800":e===s?"bg-yellow-100 text-yellow-800":e>d?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"},k=a=>{const e=parseFloat(a.current_stock),s=parseFloat(a.min_stock),d=parseFloat(a.max_stock);return e<s?"Bajo Stock":e===s?"En el Mínimo":e>d?"Sobre Stock":"Stock Normal"},S=a=>{const e=parseFloat(a.current_stock),s=parseFloat(a.min_stock),d=parseFloat(a.max_stock);return e<s?"text-red-600":e===s?"text-yellow-600":e>d?"text-blue-600":"text-green-600"},F=a=>({entry:"bg-green-100 text-green-800",exit:"bg-red-100 text-red-800",out:"bg-red-100 text-red-800",adjustment:"bg-yellow-100 text-yellow-800",production:"bg-blue-100 text-blue-800",damage:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",T=a=>({entry:"Entrada",exit:"Salida",out:"Salida",adjustment:"Ajuste",production:"Producción",damage:"Daño/Pérdida"})[a]||a,j=(a,e)=>a==="entry"||a==="adjustment"&&e>0?"text-green-600 font-medium":a==="exit"||a==="damage"||a==="adjustment"&&e<0?"text-red-600 font-medium":"text-gray-900",v=(a,e)=>{const s=d=>parseFloat(d).toFixed(2);return a==="entry"||a==="adjustment"&&e>0?`+${s(e)}`:a==="exit"||a==="damage"?`-${s(Math.abs(e))}`:s(e)},I=a=>new Date(a).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return(a,e)=>(n(),b(M,{title:`${o.item.name} - Detalles`},{header:h(()=>{var s;return[t("div",N,[t("div",$,[c(r(_),{href:a.route("inventario.index"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:h(()=>[c(r(E),{class:"w-6 h-6"})]),_:1},8,["href"]),t("div",null,[t("h2",B,i(o.item.name),1),t("p",H,i(f(o.item.type))+" - "+i(((s=o.item.category)==null?void 0:s.name)||"Sin categoría"),1)])]),t("div",P,[t("span",{class:x([p(o.item),"px-3 py-1 rounded-full text-sm font-medium"])},i(o.item.active?"Activo":"Inactivo"),3),t("span",{class:x([w(o.item),"px-3 py-1 rounded-full text-sm font-medium"])},i(k(o.item)),3)])])]}),default:h(()=>[t("div",U,[t("div",O,[t("div",V,[t("div",z,[t("div",Q,[t("div",G,[t("div",K,[c(r(A),{class:"w-8 h-8 text-blue-600"})]),t("div",q,[e[0]||(e[0]=t("div",{class:"text-sm font-medium text-gray-500"},"Stock Actual",-1)),t("div",J,i(parseFloat(o.item.current_stock).toFixed(2))+" "+i(o.item.unit),1)])])])]),t("div",R,[t("div",W,[t("div",X,[t("div",Y,[c(r(L),{class:"w-8 h-8 text-green-600"})]),t("div",Z,[e[1]||(e[1]=t("div",{class:"text-sm font-medium text-gray-500"},"Total Entradas",-1)),t("div",tt,"+"+i(o.stats.total_entries||0),1)])])])]),t("div",et,[t("div",st,[t("div",ot,[t("div",it,[c(r(D),{class:"w-8 h-8 text-red-600"})]),t("div",at,[e[2]||(e[2]=t("div",{class:"text-sm font-medium text-gray-500"},"Total Salidas",-1)),t("div",nt,"-"+i(v(o.stats.total_exits,2)||0),1)])])])]),t("div",lt,[t("div",dt,[t("div",rt,[t("div",ct,[c(r(C),{class:"w-8 h-8 text-purple-600"})]),t("div",xt,[e[3]||(e[3]=t("div",{class:"text-sm font-medium text-gray-500"},"Total Movimientos",-1)),t("div",mt,i(o.stats.total_movements||0),1)])])])])]),t("div",gt,[t("div",ut,[e[13]||(e[13]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Información General")],-1)),t("div",yt,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700"},"Nombre",-1)),t("p",ht,i(o.item.name),1)]),o.item.description?(n(),l("div",ft,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700"},"Descripción",-1)),t("p",vt,i(o.item.description),1)])):m("",!0),t("div",bt,[t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700"},"Unidad",-1)),t("p",_t,i(o.item.unit),1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"Tipo",-1)),t("p",pt,i(f(o.item.type)),1)])]),t("div",wt,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"Stock Actual",-1)),t("p",{class:x(["mt-1 text-sm font-bold",S(o.item)])},i(o.item.current_stock),3)]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700"},"Mínimo",-1)),t("p",kt,i(o.item.min_stock),1)]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700"},"Máximo",-1)),t("p",St,i(o.item.max_stock),1)])]),t("div",Ft,[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700"},"Costo de Compra",-1)),t("p",Tt,"$"+i(o.item.purchase_cost||"0.00"),1)]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700"},"Precio de Venta",-1)),t("p",jt,"$"+i(o.item.sale_price||"0.00"),1)])])])]),o.assignedElements&&o.assignedElements.length>0?(n(),l("div",It,[e[14]||(e[14]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Elementos Asignados")],-1)),t("div",Mt,[t("div",At,[(n(!0),l(g,null,u(o.assignedElements,s=>(n(),l("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",Ct,[t("div",Et,[t("h4",Dt,i(s.name),1),t("span",Lt,"("+i(s.type)+")",1)]),t("p",Nt,i(s.categoryName),1)]),t("div",$t,[t("div",Bt,i(s.quantity)+" "+i(s.unit),1),t("div",Ht," Stock: "+i(s.current_stock),1)])]))),128))])])])):m("",!0),o.usedInItems&&o.usedInItems.length>0?(n(),l("div",Pt,[e[15]||(e[15]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Usado en")],-1)),t("div",Ut,[t("div",Ot,[(n(!0),l(g,null,u(o.usedInItems,s=>(n(),l("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",Vt,[t("div",zt,[t("h4",Qt,i(s.name),1),t("span",Gt,"("+i(s.type)+")",1)]),t("p",Kt,i(s.categoryName),1)]),t("div",qt,[t("div",Jt,i(s.quantity)+" "+i(o.item.unit),1)])]))),128))])])])):m("",!0)]),t("div",Rt,[e[18]||(e[18]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Historial de Movimientos")],-1)),t("div",Wt,[t("table",Xt,[e[17]||(e[17]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tipo "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Cantidad "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Usuario "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Observaciones ")])],-1)),t("tbody",Yt,[(n(!0),l(g,null,u(o.movements.data,s=>{var d;return n(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",Zt,i(I(s.created_at)),1),t("td",te,[t("span",{class:x([F(s.type),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},i(T(s.type)),3)]),t("td",{class:x(["px-6 py-4 whitespace-nowrap text-sm",j(s.type,s.quantity)])},i(v(s.type,s.quantity))+" "+i(o.item.unit),3),t("td",ee,i(((d=s.user)==null?void 0:d.name)||"Sistema"),1),t("td",se,i(s.notes||"-"),1)])}),128)),o.movements.data.length===0?(n(),l("tr",oe,e[16]||(e[16]=[t("td",{colspan:"5",class:"px-6 py-8 text-center text-gray-500"}," No hay movimientos registrados para este item ",-1)]))):m("",!0)])])]),o.movements.links&&o.movements.links.length>3?(n(),l("div",ie,[t("div",ae,[t("div",ne," Mostrando "+i(o.movements.from)+" a "+i(o.movements.to)+" de "+i(o.movements.total)+" resultados ",1),t("div",le,[(n(!0),l(g,null,u(o.movements.links,s=>(n(),b(r(_),{key:s.label,href:s.url,class:x(["px-3 py-2 text-sm rounded-md",s.active?"bg-blue-500 text-white":s.url?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])):m("",!0)])])])]),_:1},8,["title"]))}};export{xe as default};
