import{T as S,c as C,w as i,o as m,a as t,b as l,f as p,u as s,i as M,p as h,j as f,k as E,v as k,d as v,n as g,z as j,t as c,e as x}from"./app-DwDI59q_.js";import{_ as U}from"./AppLayout-CCrStt77.js";import{_ as a}from"./InputLabel-CnLUcmbS.js";import{_ as u}from"./TextInput-ZqEeRacd.js";import{_ as n}from"./InputError-Be8KzcIm.js";import{_ as B}from"./PrimaryButton-M9ST1RCB.js";import{_ as $}from"./SecondaryButton-CQXy8ZPl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"flex justify-between items-center"},z={class:"py-12"},N={class:"max-w-3xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},P={class:"p-6"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H={class:"md:col-span-2"},K={class:"md:col-span-2"},O={key:0,class:"mt-6 p-4 bg-gray-50 rounded-lg"},R={class:"flex items-center space-x-4"},T={class:"flex-1"},G={class:"w-full bg-gray-200 rounded-full h-2"},L={class:"mt-2 text-xs text-gray-500 flex justify-between"},Q={class:"flex items-center justify-end mt-6 space-x-3"},F={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},se={__name:"Create",setup(I){const e=S({name:"",description:"",category:"",unit:"",min_stock:0,max_stock:0,current_stock:0,location:""}),_=()=>{e.post(route("elements.store"),{onSuccess:()=>{}})},b=()=>!e.max_stock||e.max_stock===0?0:Math.min(e.current_stock/e.max_stock*100,100),y=()=>e.current_stock<=0?"Agotado":e.current_stock<=e.min_stock?"Stock Bajo":e.current_stock>=e.max_stock?"Sobre Stock":"Normal",w=()=>e.current_stock<=0?"bg-red-500":e.current_stock<=e.min_stock?"bg-yellow-500":e.current_stock>=e.max_stock?"bg-purple-500":"bg-green-500",V=()=>e.current_stock<=0?"bg-red-100 text-red-800":e.current_stock<=e.min_stock?"bg-yellow-100 text-yellow-800":e.current_stock>=e.max_stock?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800";return(d,o)=>(m(),C(U,{title:"Crear Elemento"},{header:i(()=>[t("div",q,[o[10]||(o[10]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Crear Nuevo Elemento ",-1)),l(s(M),{href:d.route("elements.index"),class:"text-blue-600 hover:text-blue-800"},{default:i(()=>o[9]||(o[9]=[p(" ← Volver a la lista ")])),_:1},8,["href"])])]),default:i(()=>[t("div",z,[t("div",N,[t("div",A,[t("div",P,[t("form",{onSubmit:h(_,["prevent"])},[t("div",D,[t("div",H,[l(a,{for:"name",value:"Nombre del Elemento *"}),l(u,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":o[0]||(o[0]=r=>s(e).name=r),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",placeholder:"Ej: Resistencia 1K Ohm"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),t("div",K,[l(a,{for:"description",value:"Descripción"}),f(t("textarea",{id:"description","onUpdate:modelValue":o[1]||(o[1]=r=>s(e).description=r),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Descripción detallada del elemento..."},null,512),[[E,s(e).description]]),l(n,{class:"mt-2",message:s(e).errors.description},null,8,["message"])]),t("div",null,[l(a,{for:"category",value:"Categoría *"}),f(t("select",{id:"category","onUpdate:modelValue":o[2]||(o[2]=r=>s(e).category=r),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",required:""},o[11]||(o[11]=[t("option",{value:""},"Seleccionar categoría",-1),t("option",{value:"Electrónicos"},"Electrónicos",-1),t("option",{value:"Mecánicos"},"Mecánicos",-1),t("option",{value:"Químicos"},"Químicos",-1),t("option",{value:"Herramientas"},"Herramientas",-1),t("option",{value:"Materiales"},"Materiales",-1),t("option",{value:"Consumibles"},"Consumibles",-1),t("option",{value:"Otros"},"Otros",-1)]),512),[[k,s(e).category]]),l(n,{class:"mt-2",message:s(e).errors.category},null,8,["message"])]),t("div",null,[l(a,{for:"unit",value:"Unidad de Medida *"}),f(t("select",{id:"unit","onUpdate:modelValue":o[3]||(o[3]=r=>s(e).unit=r),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",required:""},o[12]||(o[12]=[t("option",{value:""},"Seleccionar unidad",-1),t("option",{value:"Pieza"},"Pieza",-1),t("option",{value:"Metro"},"Metro",-1),t("option",{value:"Kilogramo"},"Kilogramo",-1),t("option",{value:"Gramo"},"Gramo",-1),t("option",{value:"Litro"},"Litro",-1),t("option",{value:"Mililitro"},"Mililitro",-1),t("option",{value:"Caja"},"Caja",-1),t("option",{value:"Paquete"},"Paquete",-1),t("option",{value:"Rollo"},"Rollo",-1)]),512),[[k,s(e).unit]]),l(n,{class:"mt-2",message:s(e).errors.unit},null,8,["message"])]),t("div",null,[l(a,{for:"min_stock",value:"Stock Mínimo *"}),l(u,{id:"min_stock",modelValue:s(e).min_stock,"onUpdate:modelValue":o[4]||(o[4]=r=>s(e).min_stock=r),type:"number",class:"mt-1 block w-full",min:"0",required:"",placeholder:"0"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.min_stock},null,8,["message"]),o[13]||(o[13]=t("p",{class:"mt-1 text-sm text-gray-500"}," Se generará una alerta cuando el stock esté por debajo de este valor ",-1))]),t("div",null,[l(a,{for:"max_stock",value:"Stock Máximo *"}),l(u,{id:"max_stock",modelValue:s(e).max_stock,"onUpdate:modelValue":o[5]||(o[5]=r=>s(e).max_stock=r),type:"number",class:"mt-1 block w-full",min:"0",required:"",placeholder:"0"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.max_stock},null,8,["message"]),o[14]||(o[14]=t("p",{class:"mt-1 text-sm text-gray-500"}," Se generará una alerta cuando el stock supere este valor ",-1))]),t("div",null,[l(a,{for:"current_stock",value:"Stock Actual *"}),l(u,{id:"current_stock",modelValue:s(e).current_stock,"onUpdate:modelValue":o[6]||(o[6]=r=>s(e).current_stock=r),type:"number",class:"mt-1 block w-full",min:"0",required:"",placeholder:"0"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.current_stock},null,8,["message"])]),t("div",null,[l(a,{for:"location",value:"Ubicación"}),l(u,{id:"location",modelValue:s(e).location,"onUpdate:modelValue":o[7]||(o[7]=r=>s(e).location=r),type:"text",class:"mt-1 block w-full",placeholder:"Ej: Estante A1, Almacén B"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.location},null,8,["message"])])]),s(e).min_stock&&s(e).max_stock&&s(e).current_stock?(m(),v("div",O,[o[15]||(o[15]=t("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Vista Previa del Estado de Stock:",-1)),t("div",R,[t("div",T,[t("div",G,[t("div",{class:g(["h-2 rounded-full transition-all duration-300",w()]),style:j(`width: ${b()}%`)},null,6)])]),t("div",null,[t("span",{class:g(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",V()])},c(y()),3)])]),t("div",L,[t("span",null,"Mín: "+c(s(e).min_stock),1),t("span",null,"Actual: "+c(s(e).current_stock),1),t("span",null,"Máx: "+c(s(e).max_stock),1)])])):x("",!0),t("div",Q,[l($,{type:"button",onClick:o[8]||(o[8]=r=>d.$inertia.visit(d.route("elements.index")))},{default:i(()=>o[16]||(o[16]=[p(" Cancelar ")])),_:1}),l(B,{class:g({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:i(()=>[s(e).processing?(m(),v("svg",F,o[17]||(o[17]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):x("",!0),o[18]||(o[18]=p(" Crear Elemento "))]),_:1},8,["class","disabled"])])],32)])])])])]),_:1}))}};export{se as default};
